(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{29:function(e,t,a){},34:function(e,t,a){e.exports=a(51)},45:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a(19),o=a.n(l),i=a(21),s=(a(45),a(2)),u=a(16),m=a(6),d=a(7),h=a(14),p=a(9),b=a(8),v=a(18),f=a.n(v),E=a(23),g=a(10),y=function(e,t){return{type:"ADD_EXPENSES",payload:Object(g.a)(Object(g.a)({},t),{},{exchangeRates:e})}};a(29);var j=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",redirect:!1},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleClick=n.handleClick.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(u.a)({},a,n))}},{key:"handleClick",value:function(e){var t=this.props.loginDispatch,a=this.state.email;e.preventDefault(),t(a),this.setState({redirect:!0})}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return e.redirect?r.a.createElement(s.a,{to:"/carteira"}):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center align-items-center vh-100"},r.a.createElement("div",{className:"col-autom-auto p-4 border rounded px-5 shadow-lg bg-body rounded"},r.a.createElement("div",{className:"row justify-content-center align-items-center"},r.a.createElement("img",{src:"https://i.pinimg.com/originals/b0/b7/64/b0b76439e5cd5ef9bab27e83c4fdb2f2.gif",alt:"coingif",className:"w-25 p-3 mb-3"}),r.a.createElement("h3",{className:"text-center py-3"},"TrybeWallet")),r.a.createElement("form",null,r.a.createElement("input",{type:"email","data-testid":"email-input",name:"email",onChange:this.handleChange,value:t,placeholder:"Email",className:"form-control mb- "}),r.a.createElement("input",{type:"password",placeholder:"Senha","data-testid":"password-input",name:"password",value:a,onChange:this.handleChange,className:"form-control mb-3"}),r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("button",{type:"button",onClick:this.handleClick,disabled:a.length<6||!/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(t),className:"btn btn-success mx-3"},"Entrar"))))))}}]),a}(r.a.Component),O=Object(c.b)(null,(function(e){return{loginDispatch:function(t){return e({type:"SUBMIT_LOGIN",payload:t})}}}))(j),C=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.email,a=function(e){var t=e.reduce((function(e,t){var a=t.exchangeRates[t.currency];return e+Number(t.value)*a.ask}),0);return Math.round(100*t)/100}(e.expenses);return r.a.createElement("header",{className:"p-3  bg-dark text-white "},r.a.createElement("div",{className:"d-flex justify-content-md-end ml-1 "},r.a.createElement("div",{className:"ml-1 font-weight-bold","data-testid":"email-field"},"Email:"," ",t,"  "),r.a.createElement("div",{className:"ml-3","data-testid":"total-field",id:"valor"},a),r.a.createElement("div",{className:"ml-2","data-testid":"header-currency-field",id:"valor"},"BRL")))}}]),a}(r.a.Component),w=Object(c.b)((function(e){var t=e.user,a=e.wallet;return{email:t.email,expenses:a.expenses}}))(C),x=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.option,a=void 0===t?[]:t,n=e.onChange,c=e.name,l=e.label;return r.a.createElement("div",null,r.a.createElement("label",{className:"form-label",htmlFor:c}," ",l,r.a.createElement("select",{"data-testid":"".concat(c,"-input"),id:c,name:c,onChange:n,className:"form-select form-select-sm form-control"},a.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))))}}]),a}(n.Component),N=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.wallet;return r.a.createElement("div",null,r.a.createElement("table",{className:"table"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Descri\xe7\xe3o"),r.a.createElement("th",{scope:"col"},"Tag"),r.a.createElement("th",{scope:"col"},"M\xe9todo de pagamento"),r.a.createElement("th",{scope:"col"},"Valor"),r.a.createElement("th",{scope:"col"},"Moeda"),r.a.createElement("th",{scope:"col"},"C\xe2mbio utilizado"),r.a.createElement("th",{scope:"col"},"Valor convertido"),r.a.createElement("th",{scope:"col"},"Moeda de convers\xe3o"),r.a.createElement("th",{scope:"col"},"Editar/Excluir")),e.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.tag),r.a.createElement("td",null,e.method),r.a.createElement("td",null,e.value),r.a.createElement("td",null,e.exchangeRates[e.currency].name),r.a.createElement("td",null,Number(e.exchangeRates[e.currency].ask).toFixed(2)),r.a.createElement("td",null,(Number(e.exchangeRates[e.currency].ask)*Number(e.value)).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{"data-testid":"delete-btn",type:"button",className:"btn btn-danger mx-3"},"Excluir")))}))))}}]),a}(r.a.Component),k=Object(c.b)((function(e){return{wallet:e.wallet.expenses}}))(N),D=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).resetstate=function(){n.setState({value:"",currency:"USD",description:"",method:"GET",tag:""})},n.state={value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleClick=n.handleClick.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchCurrency)()}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(u.a)({},a,n))}},{key:"handleClick",value:function(e){e.preventDefault();var t=this.props.addExpenses,a=this.state;t({currency:a.currency,description:a.description,method:a.method,tag:a.tag,value:a.value}),this.setState({value:0,description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"})}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.description,n=e.currency,c=e.method,l=e.tag,o=this.props.currencyList;return r.a.createElement("div",{className:"mb-3"},r.a.createElement("form",{className:"d-flex justify-content-around align-items-center bg-dark text-white p-2"},r.a.createElement("label",{htmlFor:"value-input",className:"form-label"},"Valor:",r.a.createElement("input",{"data-testid":"value-input",id:"value",name:"value",onChange:this.handleChange,value:t,className:"form-control",type:"number"})),r.a.createElement("label",{className:"form-label",htmlFor:"description-input"},"Descri\xe7\xe3o",r.a.createElement("input",{"data-testid":"description-input",id:"description",name:"description",onChange:this.handleChange,type:"text",value:a,className:"form-control align-items-center "})),r.a.createElement("div",null,r.a.createElement(x,{name:"currency",option:o,onChange:this.handleChange,value:n,label:"Moeda: "})),r.a.createElement("div",null,r.a.createElement(x,{name:"method",option:["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"],onChange:this.handleChange,value:c,label:"M\xe9todo de pagamento: "})),r.a.createElement("div",null,r.a.createElement(x,{name:"tag",option:["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"],onChange:this.handleChange,value:l,label:"Tag: "})),r.a.createElement("button",{type:"button",className:"btn btn-primary mx-3 ",onClick:this.handleClick},"Adicionar Despesa")),r.a.createElement(k,null))}}]),a}(r.a.Component),S=Object(c.b)((function(e){return{currencyList:e.wallet.currencies}}),(function(e){return{addExpenses:function(t){return e(function(e){return function(){var t=Object(E.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,a(y(r,e));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},fetchCurrency:function(){return e(function(){var e=Object(E.a)(f.a.mark((function e(t){var a,n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,r=Object.keys(n),c=r.filter((function(e){return"USDT"!==e})),t({type:"ADD_CURRENCIES",payload:c});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(D),R=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement(S,null))}}]),a}(r.a.Component);var M=function(){return r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:O}),r.a.createElement(s.b,{exact:!0,path:"/carteira",component:R}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=a(13),A=a(32),U=a(33),I={email:"",password:""};var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBMIT_LOGIN":return Object(g.a)(Object(g.a)({},e),{},{email:t.payload,password:t.payload});default:return e}},_=a(26),B={expenses:[],currencies:[]},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSES":return Object(g.a)(Object(g.a)({},e),{},{expenses:[].concat(Object(_.a)(e.expenses),[Object(g.a)({id:e.expenses.length},t.payload)])});case"ADD_CURRENCIES":return Object(g.a)(Object(g.a)({},e),{},{currencies:Object(_.a)(t.payload)});default:return e}},W=Object(T.combineReducers)({user:L,wallet:F}),G=Object(T.createStore)(W,Object(A.composeWithDevTools)(Object(T.applyMiddleware)(U.a)));a(50);o.a.render(r.a.createElement(c.a,{store:G},r.a.createElement(i.a,null,r.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.4cf4b824.chunk.js.map